// frontend/js/ui.js
const messageAreaElement=document.getElementById("message-area"),scoreAreaElement=document.getElementById("score-area");function renderCard(a,e=!0){const t=document.createElement("div");t.classList.add("card-css");const n=document.createElement("img");let l="Playing Card",o="";if(e){if("function"!=typeof getCardImagePath||"undefined"==typeof RANK_FILENAME_PART||"undefined"==typeof SUITS_DATA||"undefined"==typeof CARD_IMAGE_PATH_PREFIX||"undefined"==typeof UNKNOWN_CARD_FILENAME)console.error("renderCard ERROR: Game data for images not ready (getCardImagePath or mappings missing)."),o="string"==typeof CARD_IMAGE_PATH_PREFIX&&"string"==typeof UNKNOWN_CARD_FILENAME?CARD_IMAGE_PATH_PREFIX+UNKNOWN_CARD_FILENAME:"images/cards/unknown.png",n.alt="Error: Image data missing";else{o=getCardImagePath(a);const e=a?.rank?RANK_FILENAME_PART[a.rank.toUpperCase()]||a.rank:"UnknownRank",t=a?.suitKey&&SUITS_DATA[a.suitKey]?SUITS_DATA[a.suitKey].fileNamePart:"UnknownSuit";l=`${e} of ${t}`}}else if("function"!=typeof getCardBackImagePath||"undefined"==typeof CARD_IMAGE_PATH_PREFIX||"undefined"==typeof CARD_IMAGE_EXTENSION)console.error("renderCard ERROR: Game data for card back not ready (getCardBackImagePath missing)."),o="string"==typeof CARD_IMAGE_PATH_PREFIX&&"string"==typeof CARD_IMAGE_EXTENSION?CARD_IMAGE_PATH_PREFIX+"back"+CARD_IMAGE_EXTENSION:"images/cards/back.png",n.alt="Error: Card back data missing";else{o=getCardBackImagePath();l="Card Back"}return n.src=o,n.alt=l,n.style.width="100%",n.style.height="100%",n.style.objectFit="contain",n.draggable=!1,n.onerror=function(){console.error(`IMAGE LOAD ERROR: Src: "${this.src}". Card: ${JSON.stringify(a)}`),this.alt=`Failed to load: ${l}`,t.classList.add("card-image-load-error")},t.appendChild(n),a&&(t.cardData=a,t.id=`card-dom-${a.id||(a.rank||"X")+(a.suitKey||"Y")+Math.random().toString(36).substring(2,7)}`),t}function displayMessage(a,e=!1){messageAreaElement&&(messageAreaElement.textContent=a,messageAreaElement.className="message-area",e?messageAreaElement.classList.add("error"):(a.toLowerCase().includes("backend says:")||a.toLowerCase().includes("服务器"))&&messageAreaElement.classList.add("info"))}function displayScore(a){scoreAreaElement&&(scoreAreaElement.textContent=a)};
